{% extends 'layouts/blank.html' %}

{% block title %}{{ home_index_title }}{% endblock title %}

{% block content %}

    <div id="carousel-container"
        hx-get="{% url 'home:carousel_fragment' %}"
        hx-trigger="load"
        hx-swap="innerHTML">
    </div>

    <div id="last-post-container" hx-get="{% url 'posts:last_post_home' %}" 
        hx-trigger="load" 
        hx-target="#last-post-container" 
        hx-swap="innerHTML">
    </div>

    <div id="random-members-container" hx-get="{% url 'members:random_members' %}" 
        hx-trigger="load" 
        hx-target="#random-members-container" 
        hx-swap="innerHTML">
    </div>

    <div class="max-w-7xl mx-auto sm:px-6 lg:px-8 pt-8">
        <div class="grid grid-cols-1 md:grid-cols-2 items-start mb-1 gap-6">
            <!-- Colonne gauche -->
            <h1 class="font-title text-3xl md:text-4xl">
                Les compétitions à venir ...
            </h1>
    
            <!-- Colonne droite -->
            <div class="flex items-center space-x-4 justify-start">
                <h1 class="font-title text-3xl md:text-4xl mb-0">
                    {{ results }}
                </h1>
                <a href="{% url 'sport:results_list' %}" class="btn btn-primary text-defilepsie_blue px-4 rounded-md hover:opacity-80">
                    Voir tous les résultats →
                </a>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Élément de gauche -->
            <div class="bg-navbar rounded-2xl shadow-2xl border border-text_navbar shadow-text_navbar p-6 w-full relative overflow-hidden">
                <div id="upcoming-event-container" hx-get="{% url 'sport:home_upcoming_events' %}" 
                    hx-trigger="load" 
                    hx-target="#upcoming-event-container" 
                    hx-swap="innerHTML">
                </div>
            </div>
            
            <!-- Élément de droite -->
            <div class="bg-navbar rounded-2xl shadow-2xl border border-text_navbar shadow-text_navbar p-6 w-full relative overflow-hidden">
                <div id="results-event-container" hx-get="{% url 'sport:home_results_events' %}" 
                    hx-trigger="load" 
                    hx-target="#results-event-container" 
                    hx-swap="innerHTML">
                </div>

            </div>
        </div>
    </div>

    <div id="map-fragment-container"
        hx-get="{% url 'home:map_fragment' %}"
        hx-trigger="load"
        hx-swap="innerHTML">
    </div>

{% endblock %}